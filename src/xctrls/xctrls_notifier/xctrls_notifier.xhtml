<!DOCTYPE html>

<xctrls:notifier xmlns="http://www.w3.org/1999/xhtml"
        class="CURTAIN_TIER {{$SOURCE.(@class)}}"
        tibet:ctrl="xctrls:notifier"
        pclass:hidden="true"
        ev:event="TP.sig.UIShow TP.sig.UIHide"
        ev:observer="{{$SOURCE.(@id)}}">

        <smil:animate id="{{$SOURCE.(@id)}}_animator"
            ev:event="TP.sig.UIDidShow"
            ev:target="{{$SOURCE.(@id)}}"
            targetElement="{{$SOURCE.(@id)}}"
            attributeName="opacity"
            to="0"
            dur="{{$SOURCE.(@xctrls:duration)}}"
            begin="{{$SOURCE.(@xctrls:delay)}}"/>

    <!-- Note how its the target element that signals TP.sig.PropertyDidTransition -->
    <sig:dispatch ev:event="TP.sig.PropertyDidTransition"
        ev:observer="{{$SOURCE.(@id)}}"
        name="TP.sig.DOMHide"
        origin="{{$SOURCE.(@id)}}"/>

    {{$SOURCE.(./xctrls:body)}}

</xctrls:notifier>
